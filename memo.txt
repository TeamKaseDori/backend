from fastapi import APIRouter, WebSocket
from .redis_instance import playing_data_redis

router = APIRouter()


@router.websocket("/playing")
async def playing(websocket: WebSocket) -> None:
    playing_data_redis.set("a", "b")
    
    await websocket.accept()
    await websocket.send_json({"message": playing_data_redis.get("a")})

    
@router.get("/item")
async def fname() -> dict:
    playing_data_redis.set("a", "b")
    return {"message": playing_data_redis.get("a")}
